<div align="center">

# ğŸŒŸ EriiX

**ä¸€ä¸ªå…·æœ‰æƒ…æ„Ÿã€è®°å¿†ã€å¿ƒæµå’Œä¸»åŠ¨è¡Œä¸ºçš„ AI ç¾¤èŠæœºå™¨äºº**

[![Kotlin](https://img.shields.io/badge/Kotlin-1.9+-7F52FF?style=for-the-badge&logo=kotlin&logoColor=white)](https://kotlinlang.org/)
[![Ktor](https://img.shields.io/badge/Ktor-2.3+-087CFA?style=for-the-badge&logo=ktor&logoColor=white)](https://ktor.io/)
[![Mirai](https://img.shields.io/badge/Mirai-2.16+-00C4B3?style=for-the-badge)](https://github.com/mamoe/mirai)
[![H2](https://img.shields.io/badge/H2-Database-0066CC?style=for-the-badge)](https://www.h2database.com/)
[![License](https://img.shields.io/badge/License-MIT-green?style=for-the-badge)](LICENSE)

[ğŸš€ Features](#-features) â€¢ [ğŸ› ï¸ Tech Stack](#-tech-stack) â€¢ [ğŸ Getting Started](#-getting-started) â€¢ [ğŸ“¦ Building & Running](#-building--running)

</div>

---

## ğŸ“– Overview

EriiX æ˜¯ä¸€ä¸ªåŸºäºå¤šç»´å¿ƒç†æ¨¡å‹çš„ AI ç¾¤èŠæœºå™¨äººç³»ç»Ÿã€‚ä¸åŒäºä¼ ç»Ÿçš„é—®ç­”æœºå™¨äººï¼ŒEriiX æ‹¥æœ‰**æƒ…ç»ªç³»ç»Ÿ**ã€**é•¿æœŸè®°å¿†**ã€**å¯¹è¯å¿ƒæµ**å’Œ**ä¸»åŠ¨è¡Œä¸º**ï¼Œèƒ½å¤ŸåƒçœŸäººä¸€æ ·å‚ä¸ç¾¤èŠå¯¹è¯ï¼Œä¸»åŠ¨æ’è¯ã€ç ´å†°ï¼Œå¹¶æ ¹æ®æƒ…ç»ªçŠ¶æ€è°ƒæ•´è¯´è¯é£æ ¼ã€‚

**âœ¨ æ ¸å¿ƒç‰¹æ€§ï¼š**

- ğŸ­ **æƒ…ç»ªç³»ç»Ÿ**ï¼šåŸºäº PAD æ¨¡å‹ï¼Œæ¨¡æ‹ŸçœŸå®æƒ…æ„Ÿååº”
- ğŸ§  **é•¿æœŸè®°å¿†**ï¼šå¤šç»´åº¦è®°å½•ç”¨æˆ·ç”»åƒã€åå¥½å’Œç¾¤èŠäº‹å®
- ğŸŒŠ **å¿ƒæµæœºåˆ¶**ï¼šæ ¹æ®è¯é¢˜æŠ•å…¥ç¨‹åº¦åŠ¨æ€è°ƒæ•´å‚ä¸æ·±åº¦
- âš¡ **ä¸»åŠ¨è¡Œä¸º**ï¼šåŸºäºå†²åŠ¨å€¼è¿›è¡Œæ’è¯ã€ç ´å†°å’Œæ—¥å¸¸äº’åŠ¨

## ğŸ› ï¸ Tech Stack

### ğŸ–¥ï¸ åç«¯æ¡†æ¶
- **è¯­è¨€:** Kotlin 1.9+
- **Web æ¡†æ¶:** Ktor 2.3+
- **æ„å»ºå·¥å…·:** Gradle 8.0+
- **æ•°æ®åº“:** H2 (Embedded)
- **ORM:** Exposed
- **ä¾èµ–æ³¨å…¥:** Koin
- **ä»»åŠ¡è°ƒåº¦:** JobRunr

### ğŸ¤– æœºå™¨äººé›†æˆ
- **æœºå™¨äººæ¡†æ¶:** Mirai + Overflow
- **æ¥å…¥æœåŠ¡:** NapCat (WebSocket)
- **LLM:** Google Gemini API / OpenAI Compatible API

## ğŸš€ Features

### ğŸ§  æ ¸å¿ƒç³»ç»Ÿ

#### ğŸ­ æƒ…ç»ªç³»ç»Ÿ (Emotion)
- **PAD ä¸‰ç»´æƒ…ç»ªæ¨¡å‹** - Pleasure(æ„‰æ‚¦åº¦)ã€Arousal(æ¿€æ´»åº¦)ã€Dominance(ä¼˜åŠ¿åº¦)
- **åŠ¨æ€æƒ…ç»ªè°ƒèŠ‚** - æ ¹æ®å¯¹è¯å†…å®¹å®æ—¶è°ƒæ•´æƒ…ç»ªçŠ¶æ€
- **æƒ…ç»ªè¡¨è¾¾** - å½±å“å›å¤è¯­æ°”ã€è¡¨æƒ…ç¬¦å·ä½¿ç”¨ã€å›å¤å»¶è¿Ÿ
- **é•¿æœŸå¿ƒæƒ…** - ç»´æŠ¤åŸºç¡€å¿ƒæƒ…åŸºè°ƒï¼Œå½±å“æ•´ä½“è¡Œä¸ºå€¾å‘

#### ğŸ’¾ è®°å¿†ç³»ç»Ÿ (Memory)
- **å¤šç»´åº¦è®°å¿†** - ç”¨æˆ·ç”»åƒã€åå¥½è®¾ç½®ã€äº‹å®çŸ¥è¯†ã€å¾…åŠäº‹é¡¹ã€å¯¹è¯æ‘˜è¦
- **ä¸‰çº§ä½œç”¨åŸŸ** - å…¨å±€è®°å¿†ã€ç¾¤ç»„è®°å¿†ã€æˆå‘˜-ç¾¤ç»„è®°å¿†
- **è¯­ä¹‰æ£€ç´¢** - åŸºäºå‘é‡ç›¸ä¼¼åº¦çš„æ™ºèƒ½è®°å¿†å¬å›
- **LLM é©±åŠ¨** - AI è‡ªåŠ¨æå–å’Œç®¡ç†é•¿æœŸè®°å¿†

#### ğŸŒŠ å¿ƒæµç³»ç»Ÿ (Flow)
- **æŠ•å…¥åº¦é‡åŒ–** - 0-100 å¿ƒæµå€¼ï¼Œä¸‰é˜¶æ®µçŠ¶æ€æœº
- **è¯é¢˜åŒ¹é…** - é‡åˆ°æ„Ÿå…´è¶£è¯é¢˜å¿«é€Ÿè¿›å…¥å¿ƒæµçŠ¶æ€
- **ä¸“æ³¨æœºåˆ¶** - é«˜å¿ƒæµæ—¶é”å®šå¯¹è¯ç›®æ ‡ï¼Œè¿‡æ»¤æ— å…³å¹²æ‰°
- **è¿‡çƒ­ä¿æŠ¤** - æ¨¡æ‹Ÿç–²åŠ³æ„Ÿï¼Œé¿å…è¿‡åº¦è¾“å‡º

#### âš¡ ä¸»åŠ¨è¡Œä¸ºç³»ç»Ÿ (Volition)
- **å†²åŠ¨å€¼è®¡ç®—** - åŸºäºæƒ…ç»ªã€å¿ƒæµã€å…³é”®è¯è®¡ç®—ä¸»åŠ¨å‘è¨€æ¬²æœ›
- **ä¸‰ç§æ’è¯æ¨¡å¼** - æ’è¯(Interrupt)ã€ç ´å†°(Icebreak)ã€æ—¥å¸¸(Routine)
- **è¯†ç›¸æœºåˆ¶** - æ£€æµ‹ä¸¥è‚ƒè¯é¢˜ã€ç¾¤ä½“æƒ…ç»ªï¼Œé¿å…ä¸åˆæ—¶å®œå‘è¨€
- **ç–²åŠ³æŠ‘åˆ¶** - ä¸»åŠ¨å‘è¨€åç§¯ç´¯ç–²åŠ³å€¼ï¼Œé˜²æ­¢åˆ·å±

#### ğŸ§¬ è¿›åŒ–ç³»ç»Ÿ (Evolution)
- **è¯æ±‡å­¦ä¹ ** - è‡ªåŠ¨å­¦ä¹ ç¾¤èŠä¸­çš„æ–°è¯æ±‡å’Œæ¢—
- **è¯­ä¹‰ç†è§£** - è®°å½•è¯æ±‡å«ä¹‰ã€ä½¿ç”¨åœºæ™¯å’Œè¯­æ°”
- **è‡ªç„¶èå…¥** - åœ¨åˆé€‚åœºæ™¯è‡ªç„¶ä½¿ç”¨å­¦ä¹ åˆ°çš„ç¾¤èŠç”¨è¯­
- **çƒ­è¯è¿½è¸ª** - è·Ÿè¸ªé«˜é¢‘è¯æ±‡çš„ä½¿ç”¨é¢‘ç‡å’Œæµè¡Œåº¦

#### ğŸ“š å†å²ç³»ç»Ÿ (History)
- **å¯¹è¯å­˜å‚¨** - å®Œæ•´ä¿å­˜ç¾¤èŠå†å²æ¶ˆæ¯
- **ä¸Šä¸‹æ–‡æä¾›** - ä¸º AI ç”Ÿæˆæä¾›è¿‘æœŸå¯¹è¯ä¸Šä¸‹æ–‡
- **æ—¶é—´æ£€ç´¢** - æŒ‰æ—¶é—´èŒƒå›´æŸ¥è¯¢å†å²è®°å½•
- **ç”¨æˆ·è¿½è¸ª** - è®°å½•ç”¨æˆ·å‘è¨€å†å²å’Œäº’åŠ¨æ¨¡å¼

#### ğŸ’¬ å¯¹è¯å¢å¼º
- **ä¸Šä¸‹æ–‡ç†è§£** - å¼•ç”¨å†å²å¯¹è¯å’Œé•¿æœŸè®°å¿†
- **å¤š Persona** - Erii(å¤©çœŸ)ã€Eva(ç†æ€§)ã€Nono(å¼ºåŠ¿)
- **æƒ…ç»ªå…±é¸£** - æ„ŸçŸ¥ç¾¤ä½“æ°›å›´ï¼Œè°ƒæ•´å‚ä¸æ–¹å¼

### ğŸ”Œ æ‰©å±•åŠŸèƒ½
- **ğŸ® Steam æ¸¸æˆç›‘æ§** - è®¢é˜… Steam æ¸¸æˆæ›´æ–°æ¨é€
- **ğŸ¨ å›¾ç‰‡ç”Ÿæˆ** - é›†æˆ AI å›¾ç‰‡ç”ŸæˆæœåŠ¡
- **â“ çŸ¥è¯†é—®ç­”** - æŠ€æœ¯é—®é¢˜ç›´æ¥å§”æ‰˜ AI å›ç­”
- **ğŸ§© è‡ªå®šä¹‰æ‰©å±•** - æ’ä»¶å¼æ¶æ„ï¼Œè½»æ¾æ·»åŠ æ–°åŠŸèƒ½

## ğŸ Getting Started

### ğŸ“‹ å‰ç½®è¦æ±‚
åœ¨å¼€å§‹ä¹‹å‰ï¼Œç¡®ä¿å·²å®‰è£…ä»¥ä¸‹ç¯å¢ƒï¼š
- **JDK 11+**
- **Gradle 8.0+**
- **NapCat** - QQ æ¥å…¥æœåŠ¡
- **Google Gemini API Key** - å¤§è¯­è¨€æ¨¡å‹ API

### âš™ï¸ å®‰è£…ä¸é…ç½®

1.  **å…‹éš†ä»“åº“**
    ```bash
    git clone https://github.com/spcookie/EriiX.git
    cd EriiX
    ```

2.  **é…ç½®ç¯å¢ƒå˜é‡**
    åˆ›å»º `.env.local` æ–‡ä»¶å¹¶é…ç½®ä»¥ä¸‹å˜é‡ï¼š
    ```properties
      # Google Gemini API å¯†é’¥ï¼ˆå¿…å¡«ï¼‰
      GOOGLE_API_KEY=your_google_api_key_here
      
      # Steam API å¯†é’¥ï¼ˆå¯é€‰ï¼Œç”¨äº Steam æ¸¸æˆç›‘æ§æ’ä»¶ï¼‰
      STEAM_API_KEY=your_steam_api_key_here
      
      # HTTP ä»£ç†ï¼ˆå¯é€‰ï¼Œç”¨äºè®¿é—® Google APIï¼‰
      HTTP_PROXY=http://127.0.0.1:7890
      
      # NapCat WebSocket åœ°å€ï¼ˆå¿…å¡«ï¼‰
      NAPCAT_WS=ws://127.0.0.1:3001
      
      # NapCat è®¿é—®ä»¤ç‰Œï¼ˆå¯é€‰ï¼Œå¦‚æœ NapCat é…ç½®äº†éªŒè¯ï¼‰
      NAPCAT_TOKEN=your_napcat_token
      
      # è°ƒè¯•ç¾¤ç»„ IDï¼ˆå¯é€‰ï¼Œå¼€å‘æ¨¡å¼ä¸‹ä»…å“åº”æ­¤ç¾¤ï¼‰
      #DEBUG_GROUP_ID=
      
      # å¯ç”¨çš„ç¾¤ç»„åˆ—è¡¨ï¼ˆå¿…å¡«ï¼Œå¤šä¸ªç¾¤ç»„ç”¨é€—å·åˆ†éš”ï¼‰
      ENABLE_GROUPS=1053148332,474270623
      
      # æ¶ˆæ¯é‡å®šå‘æ˜ å°„ï¼ˆå¯é€‰ï¼Œæ ¼å¼ï¼šæºç¾¤_:ç›®æ ‡ç¾¤,å¤šä¸ªæ˜ å°„ç”¨é€—å·åˆ†éš”ï¼‰
      MESSAGE_REDIRECT_MAP=1053148332:474270623
      
      # Steam æ¸¸æˆè®¢é˜…é…ç½®ï¼ˆå¯é€‰ï¼Œæ ¼å¼ï¼šç¾¤ID,QQå·,SteamID;å¤šä¸ªè®¢é˜…ç”¨åˆ†å·åˆ†éš”ï¼‰
      STEAM_SUBSCRIPTIONS=1053148332,2697951448,76561198415512702;1053148332,1,76561199087375065
    ```

3.  **æ„å»ºå¹¶è¿è¡Œ**
    ```bash
    ./gradlew run
    ```

### ğŸ’¬ é…ç½® NapCat
EriiX ä½¿ç”¨ NapCat ä½œä¸º QQ æ¥å…¥å±‚ï¼Œè¯·å‚è€ƒ [NapCat å®˜æ–¹æ–‡æ¡£](https://github.com/NapNeko/NapNeko/NapCatQQ) è¿›è¡Œé…ç½®ã€‚

## ğŸ“¦ Building & Running

| å‘½ä»¤ | è¯´æ˜ |
| :--- | :--- |
| `./gradlew build` | æ„å»ºæ•´ä¸ªé¡¹ç›® |
| `./gradlew run` | å¯åŠ¨å¼€å‘æœåŠ¡å™¨ |
| `./gradlew buildFatJar` | æ„å»ºåŒ…å«æ‰€æœ‰ä¾èµ–çš„å¯æ‰§è¡Œ JAR |
| `./gradlew buildImage` | æ„å»º Docker é•œåƒ |

## ğŸ“‚ Project Structure

```bash
EriiX/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”œâ”€â”€ kotlin/
â”‚   â”‚   â”‚   â”œâ”€â”€ core/              # ğŸ§  æ ¸å¿ƒç³»ç»Ÿæ¨¡å— (æƒ…ç»ªã€è®°å¿†ã€å¿ƒæµç­‰)
â”‚   â”‚   â”‚   â”œâ”€â”€ plugins/           # ğŸ”Œ æ’ä»¶æ¨¡å— (Steam, Image, etc.)
â”‚   â”‚   â”‚   â”œâ”€â”€ config/            # âš™ï¸ é…ç½®å’Œä¾èµ–æ³¨å…¥
â”‚   â”‚   â”‚   â”œâ”€â”€ server/            # ğŸŒ Ktor æœåŠ¡å™¨é…ç½®
â”‚   â”‚   â”‚   â””â”€â”€ Application.kt     # ğŸš€ åº”ç”¨å…¥å£
â”‚   â”‚   â””â”€â”€ resources/             # ğŸ“„ èµ„æºæ–‡ä»¶
â””â”€â”€ build.gradle.kts               # ğŸ”¨ æ„å»ºé…ç½®
```

## ğŸ—ºï¸ Architecture

EriiX é‡‡ç”¨äº‹ä»¶é©±åŠ¨æ¶æ„ï¼Œé€šè¿‡ `EventBus` å®ç°ç³»ç»Ÿé—´è§£è€¦ã€‚
1.  **æ¶ˆæ¯æ¥æ”¶** ğŸ“¥ -> 2. **å†å²è®°å½•** ğŸ“ -> 3. **äº‹ä»¶è§¦å‘** ğŸ”” -> 4. **Agent å¤„ç†** ğŸ¤– -> 5. **LLM ç”Ÿæˆ** ğŸ§  -> 6. **çŠ¶æ€æ›´æ–°** ğŸ”„

## ğŸ“„ License
æœ¬é¡¹ç›®åŸºäº [MIT](LICENSE) è®¸å¯è¯å¼€æºã€‚
